# --------------------------------------------
# Source global definitions
# --------------------------------------------

if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

# --------------------------------------------
# User specific environment
# --------------------------------------------

if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi

# --------------------------------------------
# Load modular configuration
# --------------------------------------------

for f in ~/.config/bashrc/*; do
    if [ ! -d $f ]; then
        c='echo $f | sed -e "s=.config/bashrc=.config/bashrc/custom="'
	[[ -f $c ]] && source $c || source $f
    fi
done

# --------------------------------------------
# Load single customization file (if exists)
# --------------------------------------------

if [ -f ~/.bashrc_custom ]; then
    source ~/.bashrc_custom
fi
